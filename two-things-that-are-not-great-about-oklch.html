<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Two Things That are Not Great About OKLCH Chris Coyier -</title><meta name=robots content="index,follow,noarchive"><meta name=description content="I’m still a fan of the OKLCH color model and CSS function. But there are a couple of things that are confusing or weak about it, and it’s probably fair to point those out clearly. 1) Adjusting the L, C, and H values by hand is a bit dangerous Dangerous because of totally invalid combinations. Here’s an example.
I’ve got this perfectly normal green color:
.el { border-color: oklch(68% 0.25 150); }Code language: CSS (css) Well, I know that 68% is the Lightness, 0."><meta name=author content="Jenniffer Sheldon"><link rel="preload stylesheet" as=style href=https://assets.cdnweb.info/hugo/paper/css/app.css><link rel="preload stylesheet" as=style href=https://assets.cdnweb.info/hugo/paper/css/an-old-hope.min.css><script defer src=https://assets.cdnweb.info/hugo/paper/js/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=preload as=image href=./theme.png><link rel=icon href=./favicon.ico><link rel=apple-touch-icon href=./apple-touch-icon.png><meta name=generator content="Hugo 0.98.0"><meta property="og:title" content="Two Things That are Not Great About OKLCH  Chris Coyier"><meta property="og:description" content="Im still a fan of the OKLCH color model and CSS function. But there are a couple of things that are confusing or weak about it, and its probably fair to point those out clearly. Dangerous because of totally invalid combinations. Heres an example."><meta property="og:type" content="article"><meta property="og:url" content="/two-things-that-are-not-great-about-oklch.html"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-09-07T00:00:00+00:00"><meta property="article:modified_time" content="2024-09-07T00:00:00+00:00"><meta itemprop=name content="Two Things That are Not Great About OKLCH  Chris Coyier"><meta itemprop=description content="Im still a fan of the OKLCH color model and CSS function. But there are a couple of things that are confusing or weak about it, and its probably fair to point those out clearly. Dangerous because of totally invalid combinations. Heres an example."><meta itemprop=datePublished content="2024-09-07T00:00:00+00:00"><meta itemprop=dateModified content="2024-09-07T00:00:00+00:00"><meta itemprop=wordCount content="677"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Two Things That are Not Great About OKLCH  Chris Coyier"><meta name=twitter:description content="Im still a fan of the OKLCH color model and CSS function. But there are a couple of things that are confusing or weak about it, and its probably fair to point those out clearly. Dangerous because of totally invalid combinations. Heres an example."></head><body class=not-ready data-menu=true><header class=header><p class=logo><a class=site-name href=./index.html>ZenVlog</a><a class=btn-dark></a></p><script>let bodyClx=document.body.classList,btnDark=document.querySelector(".btn-dark"),sysDark=window.matchMedia("(prefers-color-scheme: dark)"),darkVal=localStorage.getItem("dark"),setDark=e=>{bodyClx[e?"add":"remove"]("dark"),localStorage.setItem("dark",e?"yes":"no")};setDark(darkVal?darkVal==="yes":sysDark.matches),requestAnimationFrame(()=>bodyClx.remove("not-ready")),btnDark.addEventListener("click",()=>setDark(!bodyClx.contains("dark"))),sysDark.addEventListener("change",e=>setDark(e.matches))</script><nav class=menu><a href=./sitemap.xml>Sitemap</a></nav></header><main class=main><article class=post-single><header class=post-title><p><time>Sep 7, 2024</time>
<span>Jenniffer Sheldon</span></p><h1>Two Things That are Not Great About OKLCH Chris Coyier</h1></header><section class=post-content><p><a href=#>I’m still a fan of the OKLCH</a> color model and CSS function. But there are a couple of things that are confusing or weak about it, and it’s probably fair to point those out clearly.</p><h3 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=1-adjusting-the-l-c-and-h-values-by-hand-is-a-bit-dangerous></a>1) Adjusting the L, C, and H values by hand is a bit dangerous</h3><p>Dangerous because of totally invalid combinations. Here’s an example.</p><p>I’ve got this perfectly normal green color:</p><pre class="wp-block-code ticss-d2b2e24c" aria-describedby=shcb-language-1 data-shcb-language-name=CSS data-shcb-language-slug=css><span><code class="hljs language-css"><span class=hljs-selector-class>.el</span> { <span class=hljs-attribute>border-color</span>: <span class=hljs-built_in>oklch</span>(<span class=hljs-number>68%</span> <span class=hljs-number>0.25</span> <span class=hljs-number>150</span>); }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>CSS</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>css</span><span class=shcb-language__paren>)</span></pre><p>Well, I know that 68% is the Lightness, 0.25 is the Chroma (sorta like saturation), and 150 is the Hue. Hue, like many of these color models, goes from 0 to 360. Increasing the Hue from the 140 where it’s at which is in Green-land should push it into Blue-land, then Purple-land, and Pink-land, then Red-land as it approaches 360.</p><p>If I just push that 150 Hue to 152… well… the color picker at <a href=#>OKLCH.com</a> will tell you that that color doesn’t exist. And I guess it kind of doesn’t. Those numbers have left the P3 color space. Does that make the color “invalid”? I… don’t know. I don’t have the language for that. In the originally published draft of this post, I assumed it was invalid and would render as nothing. But, I guess you could call it good news, <a href=#>the specced behavior</a> is that colors with values outside the space (and/or model?) get brought back in, so colors will never render as blank nothing. Probably smart, and good that it’s specced, but feels awfully strange to me to be picking essentially coordinates of colors that don’t exist. And then if you do that, do you still get the correct behavior of the model, like consistent lightness and all that? So much to know.</p><p>Those big empty gaps in the color space? That’s intentional! That’s part of the design of the color space. It’s like that because it actually solves some problems, like uniform brightness. But it causes others, like quite a few number combinations having this “invalid and thus must be mathed-into-place” problem. Which is usually called “clipping” I think, but I also have heard that behavior is controversial.</p><p>You can see this pretty clearly in the 3D model of the color space:</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/i0.wp.com/chriscoyier.net/wp-content/uploads/2023/05/Screenshot-2023-05-25-at-3.05.42-PM.png><p>In the sRGB color space that we’re mostly used to, well, it’s a cube, so there aren’t really “invalid” values unless you do something intentionally weird and out-of-bounds.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/i0.wp.com/chriscoyier.net/wp-content/uploads/2023/05/rgb-color-model-visible-spectrum-color-space-png-favpng-VcwRvnSFWbjZWxJvUhccwrWKp.jpg><p>The programmatic champion that is HSL is within the RGB color space but is modeled like a cylinder, making it similarly difficult to make a “wrong” combination.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/i0.wp.com/chriscoyier.net/wp-content/uploads/2023/05/th.jpg><p>In <code>rgb()</code>, there is no “wrong” value of r, g, or b, as long as it is 0 to 255. In <code>hsl()</code>, there is no “wrong” value of h, s, or l, as long as it’s between 0 and 255 for the hue and 0% and 100% for the saturation and lightness. It’s no wonder why CSS adopted those models… they are just easier to reason about.</p><p>I tell you what though, color me (lol) interested in Okhsl, <a href=#>which</a> seems to be a model where uniform brightness while maintaining the easy and predictable numbers of the HSL model.</p><h3 class=wp-block-heading><a href=# aria-hidden=true class=aal_anchor id=2-gradients-have-super-awkward-combinations-like-any-other-color-space></a>2) Gradients have super awkward combinations like any other color space</h3><p>I messed around with <a href=#>Adam’s Pen</a> and got this.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/i0.wp.com/chriscoyier.net/wp-content/uploads/2023/05/Screenshot-2023-05-25-at-3.19.22-PM-1.png><p>I thought that OKLCH was supposed to be a majorly clear winner with interpolating gradients, but I’m not so sure. It’s true that it generally avoids “the gray dead zone”, but sometimes it does so by travelling through some other very unexpected color territories. More vibrant? Usually. More intuitive? Nope.</p><p>The syntax for interpolating in a particular color model is:</p><pre class=wp-block-code aria-describedby=shcb-language-2 data-shcb-language-name=CSS data-shcb-language-slug=css><span><code class="hljs language-css"><span class=hljs-selector-class>.el</span> { <span class=hljs-attribute>background</span>: <span class=hljs-built_in>linear-gradient</span>( to right in oklch, yellow, blue ); }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>CSS</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>css</span><span class=shcb-language__paren>)</span></pre><p>So I think the answer for really nice gradients going forward is either:</p><li>Pick the color model that has the best results using the syntax above, or…</li><li>Use a whole bunch of color stops so the path the colors take along the way is predictable.</li><li>Use OKLAB as apparently it’s the most generically best at this job.</li><p><h3 class=jp-relatedposts-headline>Related</h3></p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmibmKe2tK%2FOsqCeql6jsrV7kWlpbGdganxzgY6trqhlpJ22r7PSZquhmaRirrOxjKemrWWXp7KiwIyamaitpGK8rLjCoWY%3D</p></section><nav class=post-nav><a class=prev href=./inside-anderson-cooper-unconventional-decision-to-live-with-ex-benjamin-maisani.html><span>←</span><span>Inside Anderson Cooper's 'unconventional' decision to live with ex Benjamin Maisani to co-parent two</span></a>
<a class=next href=./white-mountain-bari-clog-sale-amazon-7375804.html><span>White Mountain Bari Clogs Are Nearly 50% Off at Amazon</span><span>→</span></a></nav></article></main><footer class=footer><p>&copy; 2024 <a href=./></a></p><p>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>️</p></footer><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>